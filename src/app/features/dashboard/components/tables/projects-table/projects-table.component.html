<div class="w-full rounded-xl bg-white p-6 shadow-sm">
  <div class="mb-6 flex items-center justify-between">
    <div class="flex flex-col">
      <h2 class="text-dark-text mb-2 text-xl font-bold">Projects</h2>
      <div class="flex items-center gap-1 text-sm text-gray-500">
        <i class="pi pi-check-circle mr-1 text-green-500"></i>
        <span class="text-medium-text text-sm"
          ><span class="font-semibold"> 30 done</span> this month</span
        >
      </div>
    </div>
    <p-button icon="pi pi-ellipsis-v" styleClass="p-button-text p-button-plain"></p-button>
  </div>

  <p-table [value]="projects" [tableStyle]="{ 'border-collapse': 'separate' }">
    <ng-template pTemplate="header">
      <tr>
        <th class="text-medium-text px-2 py-3 text-sm font-semibold uppercase">COMPANIES</th>
        <th class="text-medium-text px-2 py-3 text-sm font-semibold uppercase">MEMBERS</th>
        <th class="text-medium-text px-2 py-3 text-sm font-semibold uppercase">BUDGET</th>
        <th class="text-medium-text px-2 py-3 text-sm font-semibold uppercase">COMPLETION</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-project>
      <tr class="border-b border-gray-200 last:border-b-0">
        <td class="px-2 py-4">
          <div class="flex items-center gap-3">
            <img
              [src]="project.companyLogo"
              [alt]="project.projectName"
              width="24"
              height="24"
              class="rounded-md"
            />
            <span class="font-semibold text-gray-700">{{ project.projectName }}</span>
          </div>
        </td>
        <td class="px-2 py-4">
          <p-avatarGroup>
            @for (member of project.members; track $index) {
              <p-avatar
                [image]="member"
                size="normal"
                shape="circle"
                styleClass="border-2 border-white -ml-2"
              ></p-avatar>
            }
          </p-avatarGroup>
        </td>
        <td class="px-2 py-4">
          @if (project.budget === 'Not set') {
            <span class="text-dark-text text-sm font-semibold">Not set</span>
          } @else {
            <span class="text-dark-text text-sm font-semibold">{{
              project.budget | currency: 'USD'
            }}</span>
          }
        </td>
        <td class="px-2 py-4">
          <div class="flex flex-col gap-1">
            <span class="text-primary text-sm font-semibold">{{ project.completion }}%</span>
            <p-progressBar
              [value]="project.completion"
              [showValue]="false"
              styleClass="h-1 rounded-full bg-gray-200"
            >
              <ng-template pTemplate="value" let-value>
                <div
                  [ngStyle]="{ width: value + '%' }"
                  class="bg-primary h-full rounded-full"
                ></div>
              </ng-template>
            </p-progressBar>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
